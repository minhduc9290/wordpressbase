(function(f){var d=window.parent.wp.customize;var e=window.parent.jQuery;var g=e("#customize-controls").siblings(".customize-bar").children(".action").html("");f(window).load(function(){e(".nitro-customizer-loader").fadeOut(500)});if(window.wr_customize_page_action||window.wr_customize_header_action){var c;if(window.wr_customize_page_action){c=wr_customize_page_action.customize;if(window.wr_customize_header_action){c+=wr_customize_header_action.edit_header+" "}c+=wr_customize_page_action.edit_page}else{c=wr_customize_header_action.edit_header}g.html(c).find("a").click(function(){if(f(this).attr("href")!="#"){window.open(f(this).attr("href"),"_blank")}else{if(window.wr_customize_previewing&&wr_customize_previewing.type){d.panel.each(function(j){if(j.params.apply_to&&j.params.apply_to.length){var k=false;for(var l=0;l<j.params.apply_to.length;l++){if(j.params.apply_to[l]=="all"||j.params.apply_to[l]==wr_customize_previewing.type){k=true;break}}if(k){e(".wp-full-overlay").removeClass("collapsed").addClass("expanded");if(e("#accordion-panel-"+j.id+" > ul").css("display")=="none"){e("#accordion-panel-"+j.id+" > h3").trigger("click")}if(wr_customize_previewing.view&&wr_customize_previewing.view!=""){d.section.each(function(i){if(i.panel()==j.id&&i.id==wr_customize_previewing.view){if(e("#accordion-section-"+i.id+" > ul").css("display")=="none"){e("#accordion-section-"+i.id+" > h3").trigger("click")}}})}}}})}}})}if(window.wr_customize_disable&&wr_customize_disable.disabled){g.append(wr_customize_disable.message);e(".overridden_by_page_options_notice").remove();for(var b=0,h=wr_customize_disable.page_options.length;b<h;b++){var a=e("#customize-control-"+wr_customize_disable.page_options[b]).parent().children().first();if(!a.next(".overridden_by_page_options_notice").length){a.after('<li class="overridden_by_page_options_notice" />')}a=a.next(".overridden_by_page_options_notice");if(!a.children(".section-override").length){a.append('<div class="section-override"><span class="dashicons dashicons-warning"></span>'+wr_customize_disable.message.split('<span class="message-tooltip">')[1].split("</span>")[0]+"</li>")}}}if(window.wr_customize_previewing&&wr_customize_previewing.type){f.check_effective_panels=function(){d.panel.each(function(k){if(k.params.apply_to&&k.params.apply_to.length){var l=false;for(var m=0;m<k.params.apply_to.length;m++){if(k.params.apply_to[m]=="all"||k.params.apply_to[m]==wr_customize_previewing.type){l=true;break}}if(!l){if(!d.control("expert_mode").setting.get()){if(e("#accordion-panel-"+k.id).hasClass("current-panel")){k.deactivate()}if(!e("#accordion-panel-"+k.id+" > .wr-mask").length){var j=e('<div class="wr-mask wr-mask-big has-tip" />').append(e('<button type="button" class="button enable-expert-mode hidden" />').css({position:"absolute",top:"7px",right:"7px","z-index":2}).text(wr_customize_previewing.btn_label).attr("title",wr_customize_previewing.message));e("#accordion-panel-"+k.id).append(j);j=e("#accordion-panel-"+k.id+" > .wr-mask");j.mouseenter(function(){j.children(".enable-expert-mode").removeClass("hidden").tooltip()}).mouseleave(function(){j.children(".enable-expert-mode").addClass("hidden").tooltip("destroy")});j.children(".enable-expert-mode").click(function(){e('li[id^="accordion-panel-"] > .wr-mask').remove();e("#_customize-toggle-expert_mode > input").trigger("click");e("#save").trigger("click")})}}else{e('li[id^="accordion-panel-"] > .wr-mask').remove();e("#accordion-panel-"+k.id).data("disabled",true)}}else{if(!d.control("expert_mode").setting.get()){e("#accordion-panel-"+k.id+" > .wr-mask").remove()}else{e("#accordion-panel-"+k.id).data("disabled",false)}}}})};f.check_effective_panels()}f(document).on("mouseover",".customizable",function(l){l.preventDefault();l.stopPropagation();if(!this._highlighted){var m=this.className.match(/customize-(panel|section)-([^\s]+)/);if(m){var i=window.wr_highlight_mask?window.wr_highlight_mask:(window.wr_highlight_mask=document.getElementById("wr_highlight_mask"));if(!i._initialized){i.wr_customize_link=document.getElementById("wr_customize_link");f(i.wr_customize_link).click(function(o){o.preventDefault();o.stopPropagation();e(".wp-full-overlay").removeClass("collapsed").addClass("expanded");var n=e("#accordion-"+wr_highlight_mask.wr_customizable_type+"-"+wr_highlight_mask.wr_customizable_id),p=n.children("ul");if(!p.length&&n.attr("aria-owns")){p=e("#"+n.attr("aria-owns"))}if(p.length&&(p.css("display")=="none"||p.css("visibility")=="hidden")){n.children("h3").trigger("click")}});f(window).resize(function(){wr_highlight_mask.wr_customizable_area._highlighted=false;f(wr_highlight_mask.wr_customizable_area).trigger("mouseover")});i._initialized=true}i.wr_customizable_area&&(i.wr_customizable_area._highlighted=false);i.wr_customizable_area=this;i.wr_customizable_type=m[1];i.wr_customizable_id=m[2];var k=this.getBoundingClientRect();if(f(".header-outer").hasClass("fixed")&&(i.wr_customizable_id=="page"||i.wr_customizable_id=="page_title")){var j=f(".header").outerHeight();i.style.top=(k.top+document.body.scrollTop)+j+"px"}else{i.style.top=(k.top+document.body.scrollTop)+"px"}i.style.left=(k.left+document.body.scrollLeft)+"px";i.style.width=k.width+"px";i.style.height=k.height+"px";i.wr_customize_link.textContent=i.wr_customize_link.getAttribute("data-title").replace("%s",i.wr_customizable_id.replace(/_/g," "));i.wr_customize_link.style.width="auto";i.wr_customize_link.style.height="auto";i.wr_customize_link.style.left="50%";i.wr_customize_link.style.top="auto";i.wr_customize_link.style.webkitTransform=i.wr_customize_link.style.transform="translateX(-50%)";i.wr_customize_link.style.position="absolute";i.style.display="block";f(document).trigger("scroll");i.wr_customizable_area._highlighted=true}}});f(document).on("mouseout",function(i){if(i.target.id!="wr_customize_link"&&i.target.id!="wr_highlight_mask"&&!f(i.target).closest(".customizable").length){i.preventDefault();i.stopPropagation();if(window.wr_highlight_mask&&wr_highlight_mask.wr_customizable_area){wr_highlight_mask.style.display="none";wr_highlight_mask.wr_customizable_area._highlighted=false}}});f(document).on("scroll",function(k){if(window.wr_highlight_mask&&wr_highlight_mask.style.display!="none"){var j=window.wr_highlight_mask.wr_customize_link,i=window.wr_highlight_mask.getBoundingClientRect();if(j&&i.top<=0&&j.style.position!="fixed"){i=j.getBoundingClientRect();j.style.width=i.width+"px";j.style.height=i.height+"px";j.style.left=i.left+"px";j.style.top=0;j.style.webkitTransform=j.style.transform="initial";j.style.position="fixed"}else{if(j&&i.top>0&&j.style.position=="fixed"){j.style.width="auto";j.style.height="auto";j.style.left="50%";j.style.top="auto";j.style.webkitTransform=j.style.transform="translateX(-50%)";j.style.position="absolute"}}}});e.wr_load_delayed_sources()})(jQuery);